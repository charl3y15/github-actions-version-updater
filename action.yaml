name: GitHub Actions Version Updater
description: GitHub Actions Version Updater updates GitHub Action versions in a repository and creates a pull request with the changes.
author: Maksudul Haque
branding:
  icon: 'arrow-up'
  color: 'orange'
inputs:
  committer_username:
    description: 'Name of the user who will commit the changes to GitHub'
    required: false
    default: 'github-actions[bot]'
  committer_email:
    description: 'Email Address of the user who will commit the changes to GitHub'
    required: false
    default: 'github-actions[bot]@users.noreply.github.com'
  commit_message:
    description: 'Commit message for the commits created by the action'
    required: false
    default: 'Update GitHub Action Versions'
  pull_request_title:
    description: 'Title of the pull requests generated by the action'
    required: false
    default: 'Update GitHub Action Versions'
  pull_request_branch:
    description: 'The pull request branch name (If provided, the action will force push to the branch)'
    required: false
    default: ''
  ignore:
    description: 'A comma separated string of GitHub Actions to ignore updates for'
    required: false
    default: ''
  token:
    description: 'GitHub Personal Access Token with `workflow` scope'
    required: true
  skip_pull_request:
    description: 'Skip Pull Request creation'
    required: false
    default: 'false'
  update_version_with:
    description: 'Use The Latest Release Tag/Commit SHA or Default Branch Commit SHA to update the actions. options: "release-tag" (default), "release-commit-sha", "default-branch-sha"'
    required: false
    default: 'release-tag'
  release_types:
    description: 'A comma separated string of release types (major, minor, patch) to use when updating the actions. By default, all release types are used to update the actions. Only Applicable for "release-tag", "release-commit-sha"'
    required: false
    default: 'all'
  pull_request_user_reviewers:
    description: 'A comma separated string (usernames) which denotes the users that should be added as reviewers to the pull request'
    required: false
    default: ''
  pull_request_team_reviewers:
    description: 'A comma separated string (team slugs) which denotes the teams that should be added as reviewers to the pull request'
    required: false
    default: ''
  pull_request_labels:
    description: 'A comma separated string (label names) which denotes the labels which will be added to the pull request'
    required: false
    default: ''
  extra_workflow_locations:
    description: 'A comma separated string of file or directory paths to look for workflows. By default, only the workflow files in the .github/workflows directory are checked updates'
    required: false
    default: ''
  pr_title:
    description: "The title of the PR's this action creates."
    required: false
    default: 'Dockerfile updates ðŸŽ‰'
  dockerfile_name:
    description: "This action run on all files that contains this value."
    required: false
    default: 'dockerfile'
  exclude_type:
    description: "A comma separated string of types you don't want to check."
    required: false
    default: ''
  exclude_package:
    description: "A comma separated string of packages you don't want to check."
    required: false
    default: ''
  commit_msg:
    description: "The string used in commit messages."
    required: false
    default: 'Update [package] from [from_version] to [to_version]'
  args:
    description: "A comma separated string of ARG key/value pairs."
    required: false
    default: ''
  disable_pr:
    description: "Disables auto creation of Pull Request. Setting it to anything will do, except false"
    required: false
    default: 'false'

runs:
  using: 'docker'
  image: 'Dockerfile'
  pre_steps:
    - name: Configure Git Safe Directory
      run: git config --global --add safe.directory /github/workspace
